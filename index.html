<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>Location</title>
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css'>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css' integrity='sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==' crossorigin='anonymous' referrerpolicy='no-referrer' />

  <style>
    .center {
      width: 100%;
      height: 100%;
      position: fixed;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .arrow {
      margin-top: 1rem;
      width: 20px;
      height: 60px;
      background-color: cornflowerblue;
      border-radius: 12px 12px 0px 0;
    }
  </style>
</head>
<body>
  <div class="p-4 center">
    <p class="title" id="x">X Rotation</p>
    <p class="title" id="y">Y Rotation</p>
    <p class="title" id="z">Z Rotation</p>

    <div class="arrow"></div>

    <p class="title" id="lat"></p>
    <p class="title" id="lon"></p>
  </div>

  <script>
    navigator.geolocation.watchPosition(showLocation)
    
    if (window.DeviceOrientationEvent) {
      window.addEventListener("deviceorientation", (e) => {
        
        var x = e.beta.toFixed()
        var y = e.gamma.toFixed()
        var z = e.alpha.toFixed()

        document.getElementById("x").textContent = `X: ${x}`
        document.getElementById("y").textContent = `Y: ${y}`
        document.getElementById("z").textContent = `Z: ${z}`

        const location = 173

        document.querySelector(".arrow").style.transform = `rotate(${-location - (-z)}deg)`
      })
    } else {
      console.log("DeviceOrientation not supported");
    }

    function showLocation(position) {
      document.getElementById("lat").textContent = position.coords.latitude
      document.getElementById("lon").textContent = position.coords.longitude
    }
  </script>
</body>
</html>